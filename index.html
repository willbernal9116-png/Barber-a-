<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <title>JF Classic Barber√≠a - Reservas</title>
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <style>
    body { font-family: 'Segoe UI', Arial, sans-serif; background: linear-gradient(180deg, #0b0b0b, #1a1a1a); color: #f5f5f5; padding: 20px; }
    .card { max-width: 500px; margin: auto; background: #151515; padding: 24px; border-radius: 14px; box-shadow: 0 0 20px rgba(212,175,55,0.15); border: 1px solid #2a2a2a; }
    h1 { text-align: center; color: #d4af37; margin-bottom: 10px; }
    p { text-align: center; font-size: 14px; color: #ccc; }
    label { display: block; margin-top: 14px; font-weight: 600; color: #d4af37; }
    input, select { width: 100%; padding: 11px; margin-top: 6px; border-radius: 8px; border: 1px solid #333; background: #0f0f0f; color: #fff; font-size: 15px; }
    button { width: 100%; padding: 12px; margin-top: 22px; border-radius: 10px; border: none; background: #d4af37; color: #111; font-size: 16px; font-weight: bold; cursor: pointer; transition: all 0.3s ease; }
    button:hover { background: #b8962e; transform: scale(1.02); }
    .btn-share { background: transparent; border: 1px solid #d4af37; color: #d4af37; margin-top: 12px; }
    .footer-info { margin-top: 20px; text-align: center; font-size: 12px; color: #666; }
  </style>
</head>
<body>

<div class="card">
  <h1>JF Classic Barber√≠a üíà</h1>
  <p><strong>Direcci√≥n:</strong> Cra 3 #3-60 sur, Barrio Los Andes</p>

  <label>Nombre</label>
  <input id="nombre" placeholder="Escribe tu nombre">

  <label>Servicio</label>
  <select id="servicio">
    <option value="Corte $20.000">Corte $20.000</option>
    <option value="Corte y barba $27.000">Corte y barba $27.000</option>
  </select>

  <label>D√≠a</label>
  <input type="date" id="fecha">

  <label>Hora</label>
  <select id="hora"></select>

  <button onclick="reservar()">Reservar por WhatsApp</button>
  <button class="btn-share" onclick="compartirPagina()">üì§ Compartir con un amigo</button>

  <div class="footer-info">
    <p>üìç Cra 3 #3-60 sur, Barrio Los Andes</p>
  </div>
</div>

<script>
  const horaSelect = document.getElementById("hora");
  const fechaInput = document.getElementById("fecha");

  // Bloquear d√≠as pasados
  const hoy = new Date();
  const fechaHoy = hoy.toISOString().split('T')[0];
  fechaInput.setAttribute('min', fechaHoy);
  fechaInput.value = fechaHoy;

  // Funci√≥n que crea las horas como las ten√≠as antes
  function agregarHora(valor) {
    let h = Math.floor(valor);
    let m = valor % 1 === 0 ? "00" : "30";
    let ampm = h >= 12 ? "PM" : "AM";
    let h12 = h > 12 ? h - 12 : h;
    if (h12 === 0) h12 = 12;

    const texto = `${h12}:${m} ${ampm}`;
    const option = document.createElement("option");
    option.value = texto;
    option.textContent = texto;
    horaSelect.appendChild(option);
  }

  // Generar todos tus rangos de horas
  function generarHoras() {
    horaSelect.innerHTML = "";
    // Ma√±ana: 9:30 a 1:30
    for (let t = 9.5; t <= 13.5; t += 0.5) { agregarHora(t); }
    // Tarde: 3:00 a 7:30
    for (let t = 15; t <= 19.5; t += 0.5) { agregarHora(t); }
  }

  // Ejecutar al cargar
  generarHoras();

  function reservar() {
    const nombre = document.getElementById("nombre").value;
    const servicio = document.getElementById("servicio").value;
    const fecha = fechaInput.value;
    const hora = horaSelect.value;

    if (!nombre || !fecha || !hora) {
      alert("Por favor, ingresa tu nombre.");
      return;
    }

    // Armar el mensaje para WhatsApp
    const msg = `Hola, soy ${nombre}. Quiero apartar cita el d√≠a ${fecha} a las ${hora}. Servicio: ${servicio}`;
    const url = `https://wa.me/573008612063?text=${encodeURIComponent(msg)}`;
    window.open(url, "_blank");
  }

  function compartirPagina() {
    const textoCompartir = `¬°Te recomiendo la Barber√≠a JF Classic! Agenda tu cita aqu√≠: ${window.location.href}`;
    window.open(`https://wa.me/?text=${encodeURIComponent(textoCompartir)}`, "_blank");
  }
</script>

</body>
</html>
